import Resolver from"../resolver.js";import{union}from"../intersect.js";import{SearchResults,EnrichedSearchResults,IntermediateSearchResults}from"../type.js";Resolver.prototype.or=function(){const{final:a,promises:b,limit:c,offset:d,enrich:e,resolve:f}=this.handler("or",arguments);return return_result.call(this,a,b,c,d,e,f)};function return_result(a,b,c,d,e,f){if(b.length){const g=this;return Promise.all(b).then(function(b){a=[];for(let c,d=0;d<b.length;d++)(c=b[d]).length&&(a[d]=c);return return_result.call(g,a,[],c,d,e,f)})}return a.length&&(this.result.length&&a.push(this.result),2>a.length?this.result=a[0]:(this.result=union(a,c,d,!1,this.boostval),d=0)),f?this.resolve(c,d,e):this}